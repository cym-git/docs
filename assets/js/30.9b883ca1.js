(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{280:function(s,t,a){"use strict";a.r(t);var n=a(0),e=Object(n.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"vscode-插件可以做什么"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#vscode-插件可以做什么"}},[s._v("#")]),s._v(" vscode 插件可以做什么")]),s._v(" "),t("p",[s._v("vscode 编辑器是可以高度自定义的，使用 vscode 插件几乎可以对 vscode 编辑器进行说有形式的自定义。")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://code.visualstudio.com/api",target:"_blank",rel:"noopener noreferrer"}},[s._v("vscode 插件开发文档"),t("OutboundLink")],1),s._v("，"),t("a",{attrs:{href:"https://liiked.github.io/VS-Code-Extension-Doc-ZH",target:"_blank",rel:"noopener noreferrer"}},[s._v("中文文档"),t("OutboundLink")],1)]),s._v(" "),t("p",[s._v("vscode 插件可以实现自定义指令、快捷键、自定义菜单项、自定义跳转、自动补全、悬浮提示、新增语言支持、语法检查、语法高亮、代码格式化等")]),s._v(" "),t("h2",{attrs:{id:"如何创建插件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#如何创建插件"}},[s._v("#")]),s._v(" 如何创建插件")]),s._v(" "),t("p",[s._v("我们使用官方来生成 vscode 插件模板项目")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 安装 yo 和 generator-code")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -g yo generator-code\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 使用脚手架创建项目")]),s._v("\nyo code\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("h3",{attrs:{id:"yo-介绍"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#yo-介绍"}},[s._v("#")]),s._v(" yo 介绍")]),s._v(" "),t("p",[s._v("Yeoman 是一个通用的脚手架系统允许创建任何的 app 。它可以迅速的搭建一个新项目，并且能够简化了现有项目的维护。他可以构建任何语言的项目")]),s._v(" "),t("p",[s._v("Yeoman 它自己不能做任何操作。 每个操作都是由 generators 基本插件在 Yeoman 环境所完成的。 这里有 很多公共的 generators 并且它很容易 创建一个 generator 去匹配任何工作流。")]),s._v(" "),t("p",[s._v("yo 是 Yeoman 命令行工具，它允许项目利用脚手架模板来创建。")]),s._v(" "),t("p",[s._v("yo 创建项目依赖于安装的 generators，比如 "),t("code",[s._v("generator-code")])]),s._v(" "),t("p",[s._v("安装完成之后就可以使用 "),t("code",[s._v("yo code")]),s._v(" 快速生成一个项目")]),s._v(" "),t("p",[s._v("yo 也提供了一系列指令供我们使用")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("yo --help")]),s._v("：查看帮助文档")]),s._v(" "),t("li",[t("code",[s._v("yo --generators")]),s._v("：列出所有安装的 generators")]),s._v(" "),t("li",[t("code",[s._v("yo --version")]),s._v("：得到他的最新版本")]),s._v(" "),t("li",[t("code",[s._v("yo doctor")]),s._v("：故障排查")])]),s._v(" "),t("p",[s._v("也可以配合安装的 generators 来使用一些命令，比如 "),t("code",[s._v("yo code --help")])]),s._v(" "),t("h2",{attrs:{id:"项目介绍"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#项目介绍"}},[s._v("#")]),s._v(" 项目介绍")]),s._v(" "),t("p",[s._v("使用 "),t("code",[s._v("yo code")]),s._v(" 生成一个项目后，核心文件就是 "),t("code",[s._v("package.json")]),s._v(" 和 "),t("code",[s._v("extension.js")]),s._v(" 两个文件。")]),s._v(" "),t("p",[s._v("package.json 是整个插件工程的配置文件，extension.js 则是工程的入口文件。")]),s._v(" "),t("p",{attrs:{align:"center"}},[t("img",{attrs:{src:s.$withBase("/imgs/vscode-plugin-bootstrap.jpg")}})]),s._v(" "),t("h3",{attrs:{id:"package-json-介绍"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#package-json-介绍"}},[s._v("#")]),s._v(" package.json 介绍")]),s._v(" "),t("div",{staticClass:"language-json line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"name"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"fecym-plugin"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("             # 插件名称\n\t"),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"displayName"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"fecym-plugin"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("      # 显示在插件市场的名称\n\t"),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"description"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("                  # 插件描述\n\t"),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"version"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"0.0.1"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("                 # 插件版本号\n\t"),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"engines"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"vscode"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^1.54.0"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"categories"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Other"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"activationEvents"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("               # 插件激活数组（在什么情况下插件会被激活，需要与extension.js中的注册函数保持一致）\n\t\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"onCommand:fecym-plugin.helloWorld"')]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"main"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"./extension.js"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("           # 插件入口文件\n\t"),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"contributes"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("                    # 插件贡献点（最重要的配置项）\n\t\t"),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"commands"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("                     # 命令，通过 command + shift + p 输入的\n\t\t\t"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\t\t\t\t"),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"command"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"fecym-plugin.helloWorld"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\t\t# 需要与 activationEvents 的命令保持一致\n\t\t\t\t"),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"title"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Hello World"')]),s._v("\t\t\t\t\t\t\t\t\t# 真正输入的命令，可以与其他不保持一致\n\t\t\t"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\t\t"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\t...\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br")])]),t("h3",{attrs:{id:"activationevents"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#activationevents"}},[s._v("#")]),s._v(" activationEvents")]),s._v(" "),t("p",[t("code",[s._v("activationEvents")]),s._v(" 配置项配置插件的激活数组，即在什么情况下插件会被激活，目前支持以下几种配置：")]),s._v(" "),t("ul",[t("li",[s._v("onLanguage：在打开对应语言文件时")]),s._v(" "),t("li",[s._v("onCommand：在执行对应命令时")]),s._v(" "),t("li",[s._v("onDebug：在 debug 会话开始前")]),s._v(" "),t("li",[s._v("onDebugInitialConfigurations：在初始化 debug 设置前")]),s._v(" "),t("li",[s._v("onDebugResolve：在 debug 设置处理完之前")]),s._v(" "),t("li",[s._v("workspaceContains：打开一个文件夹后，如果文件夹内包含设置的文件名模式时")]),s._v(" "),t("li",[s._v("onFileSystem：打开文件或文件夹，是来自设置的类型或协议时")]),s._v(" "),t("li",[s._v("onView：侧边栏设置的 id 项目展开时")]),s._v(" "),t("li",[s._v("onUri：在基于 vscode 或 vscode-inside 协议的 URL 打开时")]),s._v(" "),t("li",[s._v("onWebviewPanel：在打开设置的 webview 时")]),s._v(" "),t("li",[s._v("*：在打开 vscode 的时候，如果不是一般不建议这么设置")])]),s._v(" "),t("h3",{attrs:{id:"contributes"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#contributes"}},[s._v("#")]),s._v(" contributes")]),s._v(" "),t("p",[s._v("contributes 是整个插件的贡献点，contributes 字段可以设置的 key 也就显示了")]),s._v(" "),t("ul",[t("li",[s._v("configuration：通过这个配置项我们可以设置一个属性，这个属性我们可以在 "),t("code",[s._v("vscode")]),s._v(" 的 "),t("code",[s._v("setting.json")]),s._v(" 中设置，然后在插件工程中可以读取用户设置的这个值，进行相应的逻辑")]),s._v(" "),t("li",[s._v("commands：命令，通过 command + shift + p 进行输入来实现")]),s._v(" "),t("li",[s._v("menus：设置右键菜单")]),s._v(" "),t("li",[s._v("keybindings：设置快捷键")]),s._v(" "),t("li",[s._v("languages：设置语言特点，包括语言的后缀")]),s._v(" "),t("li",[s._v("grammars：可以在这个配置项里设置描述语言的语法文件的路径，vscode 可以根据这个来实现语法高亮")]),s._v(" "),t("li",[s._v("snippets：设置语法片段相关的路径\n...")])]),s._v(" "),t("h3",{attrs:{id:"extension-js"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#extension-js"}},[s._v("#")]),s._v(" extension.js")]),s._v(" "),t("p",[s._v("extension.js 是插件工程的入口文件，当插件被激活（触发 activationEvents 时），extension.js 文件开始执行")]),s._v(" "),t("p",[s._v("在 extension.js 中对需要功能进行注册，主要使用 vscode.commands.register 相关的 api 来为 package.json 中的 contributes 配置项的事件绑定方法")]),s._v(" "),t("p",[s._v("相关的 api 主要有：")]),s._v(" "),t("ul",[t("li",[s._v("vscode.languages.registerCompletionItemProvider()")]),s._v(" "),t("li",[s._v("vscode.languages.registerCodeActionsProvider()")]),s._v(" "),t("li",[s._v("vscode.languages.registerCodeLensProvider()")]),s._v(" "),t("li",[s._v("vscode.languages.registerHoverProvider()")]),s._v(" "),t("li",[s._v("vscode.commands.registerCommand()\n...")])]),s._v(" "),t("p",[s._v("下面是 "),t("code",[s._v("yo code")]),s._v(" 生成的 extension.js 中的代码")]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" vscode "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'vscode'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("activate")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("context")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 当扩展被激活时，这行代码只会被执行一次")]),s._v("\n  console"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Congratulations, your extension \"fecym-plugin\" is now active!'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// commandId参数必须与package.json中的command字段匹配")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 为命令绑定事件，输入命令时执行该函数")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" disposable "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" vscode"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("commands"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("registerCommand")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'fecym-plugin.helloWorld'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 控制台输入 hello Word 执行这里的函数")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 向用户展示一个消息框")]),s._v("\n    vscode"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("window"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("showInformationMessage")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Hello World from first-plugin!'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 事件入栈")]),s._v("\n  context"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("subscriptions"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("push")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("disposable"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 插件释放时执行")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("deactivate")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  console"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'插件释放'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\nmodule"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" activate"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" deactivate "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br")])]),t("h2",{attrs:{id:"运行插件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#运行插件"}},[s._v("#")]),s._v(" 运行插件")]),s._v(" "),t("p",[s._v("在项目中按下 "),t("code",[s._v("F5")]),s._v(" 便可以运行插件，第一次可能需要在 extension.js 文件下按下 "),t("code",[s._v("F5")]),s._v("，此时会打开一个新的 vscode 窗口，此时按下 "),t("code",[s._v("F1")]),s._v(" 火折子 command + shift + p 可以打开命令框，输入 "),t("code",[s._v("hello world")]),s._v(" 命令，便可以看到在 vscode 的界面的右下角弹出一个弹框 "),t("code",[s._v("Hello World from first-plugin!")]),s._v("，这就是在 extension.js 中为 "),t("code",[s._v("helloWorld")]),s._v(" 注册的事件")]),s._v(" "),t("h2",{attrs:{id:"command-配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#command-配置"}},[s._v("#")]),s._v(" Command 配置")]),s._v(" "),t("h3",{attrs:{id:"命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#命令"}},[s._v("#")]),s._v(" 命令")]),s._v(" "),t("p",[s._v("配置一个命令只需要以下几步：")]),s._v(" "),t("ul",[t("li",[s._v("在 "),t("code",[s._v("package.json")]),s._v(" 中")])]),s._v(" "),t("ol",[t("li",[s._v("在 "),t("code",[s._v("activationEvents")]),s._v(" 中添加一项要注册的命令事件名称")]),s._v(" "),t("li",[s._v("在 "),t("code",[s._v("contributes.commands")]),s._v(" 中添加一项，"),t("code",[s._v("command")]),s._v(" 和 "),t("code",[s._v("title")]),s._v("，"),t("code",[s._v("command")]),s._v(" 的值要与 "),t("code",[s._v("activationEvents")]),s._v(" 中的事件名称保持一致，"),t("code",[s._v("title")]),s._v(" 的值是注册成功后真正要执行的命令")])]),s._v(" "),t("ul",[t("li",[t("p",[s._v("在 "),t("code",[s._v("extension.js")]),s._v(" 文件里面的 "),t("code",[s._v("activate")]),s._v(" 方法中使用 "),t("code",[s._v("registerCommand")]),s._v(" 注册命令（需要与"),t("code",[s._v("activationEvents")]),s._v(" 中新增的事件名称保持一致），最后事件入栈（所有注册类的 API 执行后都要将将结果放到 context.subscriptions 中去）")])]),s._v(" "),t("li",[t("p",[s._v("配置好后，按照 "),t("code",[s._v("运行插件")]),s._v(" 的步骤就可以输入我们新注册的命令来看到效果了")])])]),s._v(" "),t("h3",{attrs:{id:"右键菜单"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#右键菜单"}},[s._v("#")]),s._v(" 右键菜单")]),s._v(" "),t("p",[s._v("我们可以为我们的命令配置右键菜单，直接使用右键菜单执行我们的命令，只需要在 "),t("code",[s._v("package.json")]),s._v(" 中的 "),t("code",[s._v("contributes")]),s._v(" 配置 "),t("code",[s._v("menus")]),s._v(" 即可")]),s._v(" "),t("div",{staticClass:"language-json line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"menus"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"editor/context"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"when"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"editorFocus"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"command"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"fecym-plugin.fecym"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"alt"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"group"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"navigation"')]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br")])]),t("ul",[t("li",[t("code",[s._v("editor/context")]),s._v("：定义菜单出现在哪里。这里是定义出现在编辑标题菜单栏")]),s._v(" "),t("li",[t("code",[s._v("when")]),s._v("：菜单出现的时机")]),s._v(" "),t("li",[t("code",[s._v("command")]),s._v("：点击菜单后执行的命令")]),s._v(" "),t("li",[t("code",[s._v("alt")]),s._v("：按住 "),t("code",[s._v("alt")]),s._v(" 在选择菜单时执行的命令")]),s._v(" "),t("li",[t("code",[s._v("group")]),s._v("：定义菜单分组")])]),s._v(" "),t("p",[s._v("菜单配置详细请查看"),t("a",{attrs:{href:"https://liiked.github.io/VS-Code-Extension-Doc-ZH/#/extensibility-reference/contribution-points?id=contributesmenus",target:"_blank",rel:"noopener noreferrer"}},[s._v("这里"),t("OutboundLink")],1)]),s._v(" "),t("h3",{attrs:{id:"快捷键"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#快捷键"}},[s._v("#")]),s._v(" 快捷键")]),s._v(" "),t("p",[s._v("同样也可以设置快捷键来执行我们的命令，同样是在 "),t("code",[s._v("contributes")]),s._v(" 中配置 "),t("code",[s._v("keybindings")])]),s._v(" "),t("div",{staticClass:"language-json line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"keybindings"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"command"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"fecym-plugin.fecym"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"key"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ctrl+5"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"mac"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"cmd+5"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"when"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"editorTextFocus"')]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])]),t("ul",[t("li",[t("code",[s._v("command")]),s._v("：快捷键要执行的指令")]),s._v(" "),t("li",[t("code",[s._v("key")]),s._v("：window 电脑对应的快捷键")]),s._v(" "),t("li",[t("code",[s._v("mac")]),s._v("：Mac 电脑对应的快捷键")]),s._v(" "),t("li",[t("code",[s._v("when")]),s._v("：快捷键出现的时机，这里是当编辑器焦点在某个文本中")])]),s._v(" "),t("p",[s._v("更多请查看"),t("a",{attrs:{href:"https://code.visualstudio.com/docs/getstarted/keybindings",target:"_blank",rel:"noopener noreferrer"}},[s._v("这里"),t("OutboundLink")],1)]),s._v(" "),t("h2",{attrs:{id:"插件生命周期"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#插件生命周期"}},[s._v("#")]),s._v(" 插件生命周期")]),s._v(" "),t("h2",{attrs:{id:"发布"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#发布"}},[s._v("#")]),s._v(" 发布")]),s._v(" "),t("h2",{attrs:{id:"插件默认配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#插件默认配置"}},[s._v("#")]),s._v(" 插件默认配置")]),s._v(" "),t("h2",{attrs:{id:"常见编辑器-api"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#常见编辑器-api"}},[s._v("#")]),s._v(" 常见编辑器 api")])])}),[],!1,null,null,null);t.default=e.exports}}]);