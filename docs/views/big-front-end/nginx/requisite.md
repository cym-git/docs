---
title: 前端开发者必备的nginx知识
date: 2019-08-16
tags:
  - 大前端
  - nginx
---

# 前端开发者必备的 nginx 知识

> **nginx**是一个高性能的 HTTP 和反向代理服务器，也是一个通用的 TCP/UDP 代理服务器，最初由俄罗斯人**Igor Sysoev**编写。**nginx**在应用程序中的作用有：
>
> - 解决跨域
> - 请求过滤
> - 配置 gzip
> - 负载均衡
> - 静态资源服务器

## 正向代理与方向代理

> 代理是在服务器和客户端之间架设的一层服务器，代理将接受客户端的请求将它转发给服务器，然后将服务端的响应转发给客户端。不管正向代理还是反向代理，都是实现此功能。

<p align="center">
  <img :src="$withBase('/imgs/nginx-proxy.jpg')""/>
</p>

- 省略一部分

## 集群与负载均衡简单了解

- 集群：一组松散或紧密连接在一起工作的计算机。 由于这些计算机协同工作，在许多方面它们可以被视为单个系统。 与网格计算机不同，计算机集群将每个节点设置为执行相同的任务，由软件控制和调度。（摘自百度百科）
- 简单理解集群就是：多个服务器一起为某个服务工作；
- 负载均衡：高可用网络基础架构的关键组件，通常用于将工作负载分布到多个服务器来提高网站、应用、数据库或其他服务的性能和可靠性。（摘自知乎）
- 简单理解负载均衡就是：我们有一堆服务器处理相同的服务，这是集群，他们可以 ip 一样端口不一样，也可以不同的服务器端口一样的，比如说有两台服务器处理相同的服务，一台端口为 8888，一台端口为 7777，这两台服务器就是一个集群，这时候会有很多种算法使我们访问这个服务的时候到底去请求那个端口的服务，这个算法可以是一个请求发给 8888，一个发给 7777；假如 8888 性能好点十核的服务，7777 是一核的，也可以十个请求给 8888 一个请求给 7777，有不同的算法来不同的处理。那我们怎么配置呢
- 首先，简单配置如下

```sh
  # 配置都在http模块里面
  http {
    # ...省略其他配置
    # 配置集群，webserver是我们给集群起的名字
    upstream webserver {
      server localhost:8888;
      server localhost:7777;
    }
    # 配置负载均衡
    server {
      listen  80;
      server_name localhost;
      location  / {
        # 这里传入集群的名字
        proxy_pass  http://webserver;
      }
    }
  }
```
